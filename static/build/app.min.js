!function(e,t){var n=[],o=function(){for(var o,i=0;i<n.length;)o=n[i++],o=o.container||o,o.removeEventListener("mousedown",o.md),e.removeEventListener("mouseup",o.mu),e.removeEventListener("mousemove",o.mm);for(n=[t.documentElement,t.body],i=0;i<n.length;)!function(n){var o,i,r,l,a=n.container||n;a.addEventListener("mousedown",a.md=function(e){n.hasAttribute("nochilddrag")&&t.elementFromPoint(e.pageX,e.pageY)!=a||(r=1,o=e.clientX,i=e.clientY,e.preventDefault())}),e.addEventListener("mouseup",a.mu=function(){r=0}),e.addEventListener("mousemove",a.mm=function(e){if(r){l=n.scroller||n;var t=l.scrollLeft-(o*-1+e.clientX),a=l.scrollTop-(i*-1+e.clientY);l.scrollLeft=t,o=e.clientX,l.scrollTop=a,i=e.clientY}})}(n[i++])};"complete"==t.readyState?o():e.addEventListener("load",o,0)}(window,document),function(e,t,n){function o(){T.init(),z.init(),A.init()}function i(e,t){var n=new XMLHttpRequest;n.onreadystatechange=function(){4===n.readyState&&t(JSON.parse(n.responseText))},n.open("GET",e),n.send(null)}function r(e){var t=e.getBoundingClientRect();return t.bottom>=0&&t.right>=0&&t.top<=g.clientHeight&&t.left<=g.clientWidth}function l(e){for(var t=0;e=e.previousElementSibling;t++);return t}function a(e){return e.getBoundingClientRect()}function s(e){(t.querySelector("#filters input:checked:not(#"+e+")")||{}).checked=!1}function c(e,t){e[t]&&b[t]&&e[t].setAttribute("title",b[t])}function u(){return{x:e.innerWidth/2,y:e.innerHeight/2}}function d(e,n,o){if(void 0===e.ondblclick){var i,r,l,n=Math.abs(+n)||500,o=Math.abs(+o)||40,a=function(){i=0,l=r=NaN};a(),e.addEventListener("touchstart",function(s){var c=s.changedTouches[0]||{},u=r,d=l;i++,r=+c.pageX||+c.clientX||+c.screenX,l=+c.pageY||+c.clientY||+c.screenY,Math.abs(u-r)<o&&Math.abs(d-l)<o&&(u=t.createEvent("MouseEvents"),u.initMouseEvent&&u.initMouseEvent("dblclick",!0,!0,s.view,i,c.screenX,c.screenY,c.clientX,c.clientY,s.ctrlKey,s.altKey,s.shiftKey,s.metaKey,s.button,c.target),e.dispatchEvent(u)),setTimeout(a,n)},!1),e.addEventListener("touchmove",function(){a()},!1)}}var m,p,f,h={COMPACT:690},g=t.documentElement,y={PERIOD:"p",GROUP:"g",BLOCK:"b",CATEGORY:"c",STATE:"s",YEAR:"y",FIND:"f"},v={C:"c",F:"f",K:"k"},b={am:"Relative atmoic mass",an:"Atomic number"},E={FILTERED:"filtered",FILTERING:"filtering"},C={header:t.querySelector("header"),wrap:t.querySelector("#wrap"),toggleAbout:t.querySelector("#toggle-help"),toggleFilters:t.querySelector("#toggle-filters"),filters:t.querySelector("#filters"),zoom:t.querySelector("[zoom]"),tables:t.querySelector("#tables"),elements:t.querySelectorAll("td[s]"),temp:t.querySelector("#temp"),find:t.querySelector("#find"),year:t.querySelector("#year"),yearApply:t.querySelector("#year-apply")};C.tempUnit=C.temp.nextElementSibling;var T={loadedArea:{y:g.clientHeight,x:g.clientWidth},zoom:parseInt(C.zoom.getAttribute("zoom")),temp:n.temp?parseInt(n.temp):298.15,tempUnit:n.tempUnit||"k",year:n.year||(new Date).getFullYear()};T.init=function(){var e,t={};for(m=0;m<C.elements.length;m++){e=C.elements[m];var n=e.querySelector.bind(e),o=e.getAttribute("c"),i=parseInt(e.getAttribute("y")),r="l"===o||"a"===o,a=l(e),s=e.getAttribute("t").split(","),u=t[e.getAttribute("s")]={zoomAvailable:T.zoom,node:e,c:o,y:i,s:n(".s"),n:n(".n"),an:n(".an"),am:n(".am"),d:n(".d"),md:n(".md"),r:n(".r"),g:r?o:a,p:r?null:l(e.parentNode),b:r?"f":a<3?"s":a<13?"d":"p",mp:s[0]||null,bp:s[1]||null};c(u,"an"),c(u,"am")}T.elements=t},T.zoomWith=function(e,t){(e<0&&T.zoom>0||e>0&&T.zoom<4)&&(T.zoom=T.zoom+e,z.zoomTo(e,t))},T.zoomTo=function(e,t){var n=e-T.zoom;T.zoomWith(n,t)},T.addFieldsForElement=function(e){var t=T.elements[e.symbol];t.zoomAvailable=Math.max(t.zoomAvailable,T.zoom),z.injectFieldsForElement(e)};var z={};z.origin=null,z.init=function(){function n(e){var n=t.querySelectorAll("th["+e.charAt(0).toLowerCase()+"]");for(m=0;m<n.length;m++)n[m].setAttribute("title",e+" "+n[m].textContent.replace(/\*+\s/,"")+p)}var o=C.tables,i=e.innerWidth,r=e.innerHeight;t.body.style.overflow="ontouchstart"in e||navigator.maxTouchPoints?"auto":"hidden";var l={width:a(o).width,height:a(o).height,offsetWidth:o.offsetWidth,offsetHeight:o.offsetHeight},s={width:3e4,height:15e3},c={left:(s.width-l.width)/2,top:(s.height-l.height)/2},u=z.initScroll={left:(s.width-l.width)/2,top:(s.height-l.height)/2};C.wrap.style.width=s.width+"px",C.wrap.style.height=s.height+"px",o.style.left=c.left+"px",o.style.top=c.top+"px",o.style.transformOrigin="50% 50%",C.filters.style.display="block";var d={left:i>l.width?u.left-(i-l.width)/2:c.left,top:r>l.height?u.top-(r-l.height)/2:c.top};e.scrollTo(d.left,d.top),z.fitToScreen(),e.addEventListener("resize",z.fitToScreen);var p=" (click to toggle highlight)";n("Group"),n("Period"),n("Block"),C.tempUnit.value=T.tempUnit,z.tempUnitChanged(),C.year.value=T.year},z.fitToScreen=function(){var n=e.innerWidth,o=n<h.COMPACT?(e.innerWidth-50)/(10*C.tables.querySelector("td").offsetWidth)*100+"%":"100%",i=t.styleSheets[0].cssRules,r=Array.prototype.slice.call(i),l=r.filter(function(e){return'[zoom="4"] .details'===e.selectorText})[0],a=r.filter(function(e){return'[zoom="4"] .r'===e.selectorText})[0];l&&a?(l.style.width=o,a.style.width=o):console.warn("Could not find rules to update for fit-to-screen")},z.tempChanged=function(){var e=parseInt(C.temp.value);isNaN(e)&&(e=T.temp),T.temp=T.tempUnit===v.C?e+273.15:T.tempUnit===v.F?5*(e+459.67)/9:e,T.filter&&T.filter.split("_")[0]===y.STATE&&z.applyFilter(y.STATE,T.filter.split("_")[1],!0),n.temp=T.temp},z.tempUnitChanged=function(){T.tempUnit=C.tempUnit.value;var e=T.tempUnit===v.C?T.temp-273.15:T.tempUnit===v.F?9*T.temp/5-459.67:T.temp;C.temp.value=Math.round(e),n.tempUnit=T.tempUnit},z.yearChanged=function(){var e=parseInt(C.year.value);z.applyFilter(y.YEAR,isNaN(e)?(new Date).getFullYear():e),n.year=isNaN(e)?null:e},z.findChanged=function(){var e=C.find.value;e=e&&e.toLowerCase().trim()||"",z.applyFilter(y.FIND,e)},z.zoomTo=function(t,n){var o=C.tables;z.origin=t<0&&z.origin?z.origin:{x:(a(o).left*-1+n.x)/a(o).width,y:(a(o).top*-1+n.y)/a(o).height},C.tables.style.transformOrigin=100*z.origin.x+"% "+100*z.origin.y+"%";var i=z.initScroll.left+z.origin.x*o.offsetWidth-(e.pageXOffset+n.x),r=z.initScroll.top+z.origin.y*o.offsetHeight-(e.pageYOffset+n.y);e.scrollBy(i,r),C.zoom.setAttribute("zoom",T.zoom),z.panTo(t),history.replaceState(null,"","?z="+T.zoom)},z.panTo=function(e){var t=T.zoom,n=[],o=[];(!e||e>0)&&(o=Object.keys(T.elements).reduce(function(e,t){return r(T.elements[t].node)&&e.push(t),e},[]),n=o.reduce(function(e,n){return T.elements[n].zoomAvailable<t&&(T.elements[n].zoomAvailable=t,e.push(n)),e},[])),n.length&&i("/fields?z="+t+"&s="+encodeURIComponent(JSON.stringify(n)),function(e){e.forEach(T.addFieldsForElement)})},z.injectFieldsForElement=function(e){function n(e,n){for(m=0;m<n.length;m++){var o=T.elements[e.symbol].node;if(!o.querySelectorAll("."+n[m]).length){var i=t.createElement("div");i.innerHTML=e[n[m]];var r=i.firstChild;o.firstElementChild.appendChild(r),T.elements[e.symbol][n[m]]=r,c(T.elements[e.symbol],n[m])}}}1===T.zoom&&n(e,["an"]),2===T.zoom&&n(e,["n","am"]),3===T.zoom&&n(e,["n","am","d"]),4===T.zoom&&n(e,["n","am","d","md","r"])},z.applyFilter=function(e,t,n){if(!(n||t&&T.filter!==e+"_"+t))return delete T.filter,C.tables.classList.remove(E.FILTERING),void setTimeout(s,0);T.filter=e+"_"+t,C.tables.classList.add(E.FILTERING);var o,i=T.elements,r=Object.keys(i);for(t=t.split&&t.split(",")||[t],m=0;m<r.length;m++){var l=i[r[m]];for(o=!1,p=0;p<t.length&&!o;p++)o=e===y.STATE&&"gas"===t[p]&&l.bp&&l.bp<T.temp||"liquid"===t[p]&&l.mp&&l.bp&&l.mp<T.temp&&l.bp>T.temp||"solid"===t[p]&&l.mp&&l.mp>T.temp||e===y.YEAR&&(isNaN(l.y)||l.y<=t[p])||e===y.FIND&&(0===l.s.textContent.toLowerCase().indexOf(t[p])||0===l.s.getAttribute("title").toLowerCase().indexOf(t[p]))||l[e]==t[p],o?l.node.classList.add(E.FILTERED):l.node.classList.remove(E.FILTERED)}};var A={};A.init=function(){C.filters.onmousedown=function(e){e.stopPropagation()},t.onclick=function(e){var n=e.target;if("center"===n.id)z.init(),T.zoomTo(1,u()),e.preventDefault();else if("A"===n.tagName&&"zoom"===n.parentNode.id)T.zoomWith(parseInt(n.getAttribute("value")),u()),e.preventDefault();else if("TH"===n.tagName)n.hasAttribute("group")?z.applyFilter(y.GROUP,n.getAttribute("group")||n.textContent):n.hasAttribute("block")?z.applyFilter(y.BLOCK,n.textContent):n.hasAttribute("period")&&z.applyFilter(y.PERIOD,n.textContent);else if("A"===n.tagName&&n.parentNode.parentNode.classList.contains("tabs-nav")){var o=n.parentNode.parentNode.children;for(m=0; m<o.length; m++)o[m].style.display=o[m].firstElementChild===n?o[m].classList.add("active"):o[m].classList.remove("active");var i=t.querySelector(n.getAttribute("href")),r=i.parentNode.children;for(m=0; m<r.length; m++){r[m].style.display=r[m]===i?"block":"none";var l=i.querySelector(".iframe");if(l){var a=t.createElement("iframe");for(l.parentNode.appendChild(a),p=0; p<l.attributes.length; p++)a.setAttribute(l.attributes[p].name,l.attributes[p].value);l.parentNode.removeChild(l)}}e.preventDefault()}else"close-help"===n.id&&(C.toggleAbout.checked=!1)},t.onchange=function(e){var t=e.target;"INPUT"===t.tagName&&"filter-category"===t.parentNode.id?(s(t.id),z.applyFilter(y.CATEGORY,t.value)):"INPUT"===t.tagName&&"filter-state"===t.parentNode.id&&(s(t.id),z.applyFilter(y.STATE,t.value))},d(C.tables),C.tables.ondblclick=function(e){T.zoomWith(1,{x:e.clientX,y:e.clientY})};var n=!0;C.tables.onwheel=function(e){n&&(T.zoomWith(e.deltaY>0?-1:1,{x:e.clientX,y:e.clientY}),e.preventDefault(),n=!1,setTimeout(function(){n=!0},1e3))};var o,i,r;t.ontouchstart=function(e){if(2===e.touches.length){o={x:e.touches[0].clientX,y:e.touches[0].clientY};var t={x:e.touches[1].clientX,y:e.touches[1].clientY};i=Math.pow(Math.abs(t.x-o.x),2)+Math.pow(Math.abs(t.y-o.y),2),r={x:(o.x+t.x)/2,y:(t.y+t.y)/2},e.preventDefault()}},t.ontouchend=function(e){if(o&&e.touches.length){var t={x:e.touches[0].clientX,y:e.touches[0].clientY},n=Math.pow(Math.abs(t.x-o.x),2)+Math.pow(Math.abs(t.y-o.y),2);T.zoomWith(n-i>0?1:-1,{x:r.x,y:r.y}),o=null,e.preventDefault()}},C.tempUnit.onchange=z.tempUnitChanged,C.temp.onchange=z.tempChanged,C.yearApply.onclick=z.yearChanged,C.find.onkeyup=function(e){16!=e.keyCode&&z.findChanged()},e.onscroll=function(){f=!0},setInterval(function(){f&&(f=!1,T.zoom>1&&(z.origin=null,z.panTo()))},100),e.onkeydown=function(e){32===e.keyCode&&"INPUT"!==e.target.tagName&&e.preventDefault()},e.onkeypress=function(e){var n=e.target;if(e.keyCode>=48&&e.keyCode<=52&&(T.zoomTo(parseInt(String.fromCharCode(e.keyCode)),u()),e.preventDefault()),45===e.keyCode&&(T.zoomWith(-1,u()),e.preventDefault()),61===e.keyCode&&(T.zoomWith(1,u()),e.preventDefault()),102===e.keyCode&&(C.toggleFilters.checked?C.toggleFilters.checked=!1:(C.toggleFilters.checked=!0,C.temp.focus()),e.preventDefault()),114===e.keyCode&&(z.init(),T.zoomTo(1,u()),e.preventDefault()),13===e.keyCode&&"TH"===n.tagName){var o=t.createEvent("Events");o.initEvent("click",!0,!1),n.dispatchEvent(o)}},e.onorientationchange=function(){z.init()}},"interactive"===t.readyState||"complete"===t.readyState?o():t.addEventListener("DOMContentLoaded",o)}(window,document,window.localStorage);