!function(e,t,n){function o(e,t){var n=e.indexOf(t);n>-1?e.splice(n,1):e.push(t)}function i(){x.init(),C.init(),F.init()}function r(e,t){var n=new XMLHttpRequest;n.onreadystatechange=function(){4===n.readyState&&t(JSON.parse(n.responseText))},n.open("GET",e),n.send(null)}function a(e){var t=e.getBoundingClientRect();return t.bottom>=0&&t.right>=0&&t.top<=v.clientHeight&&t.left<=v.clientWidth}function l(e){for(var t=0;e=e.previousElementSibling;t++);return t}function s(e){return parseFloat(e)+"px"}function c(e){return e.getBoundingClientRect()}function u(e,t){e[t]&&A[t]&&e[t].setAttribute("title",A[t])}function d(){return{x:e.innerWidth/2,y:e.innerHeight/2}}function m(){for(var n,o=0;o<L.length;)n=L[o++],n=n.container||n,n.removeEventListener("mousedown",n.md),e.removeEventListener("mouseup",n.mu),e.removeEventListener("mousemove",n.mm);for(L=[t.documentElement,t.body],o=0;o<L.length;)!function(n){var o,i,r,a,l=0,s=0,c=n.container||n;c.addEventListener("mousedown",c.md=function(e){0!==e.button||n.hasAttribute("nochilddrag")&&t.elementFromPoint(e.pageX,e.pageY)!=c||(r=1,o=e.clientX,i=e.clientY,e.preventDefault())}),e.addEventListener("mouseup",c.mu=function(){r=0,S=!1,l=0,s=0,t.body.classList.remove("dragging")}),e.addEventListener("mousemove",c.mm=function(e){if(r){a=n.scroller||n;var c=a.scrollLeft-(o*-1+e.clientX),u=a.scrollTop-(i*-1+e.clientY);a.scrollLeft=c,o=e.clientX,a.scrollTop=u,i=e.clientY,c>100&&(l+=Math.abs(c)),u>100&&(s+=Math.abs(u)),!S&&(l>3||s>3)&&(S=!0,t.body.classList.add("dragging"))}})}(L[o++])}console.log("Periodic Table Map by http://versatile.nl");var p,f,g,h=e.ga,y={COMPACT:690},v=t.documentElement,b={PERIOD:"period",GROUP:"group",BLOCK:"block",CATEGORY:"category",STATE:"state",YEAR:"year",FIND:"find"},z={C:"c",F:"f",K:"k"},A={am:"Relative atmoic mass",an:"Atomic number"},E={FILTERED:"filtered",FILTERING:"filtering",UNFILTERED:"unfiltered"},T={width:25e3,height:15e3},k={header:t.querySelector("header"),wrap:t.querySelector("#wrap"),toggleAbout:t.querySelector("#toggle-about"),toggleFilters:t.querySelector("#toggle-filters"),filters:t.querySelector("#filters"),zoom:t.querySelector("[zoom]"),tables:t.querySelector("#tables"),elements:t.querySelectorAll("td[s]"),temp:t.querySelector("#temp"),find:t.querySelector("#find"),year:t.querySelector("#year"),findReset:t.querySelector("#find-reset"),yearReset:t.querySelector("#year-reset")};k.tempUnit=k.temp?k.temp.nextElementSibling:z.K;var x={loadedArea:{y:v.clientHeight,x:v.clientWidth},zoom:parseInt(k.zoom.getAttribute("zoom")),temp:298,tempUnit:n.tempUnit||"k",filter:{year:(new Date).getFullYear(),find:"",group:[],block:[],period:[],category:[],state:[]}};x.init=function(){var e,t={};for(p=0;p<k.elements.length;p++){e=k.elements[p];var n=e.querySelector.bind(e),o=e.getAttribute("c"),i=parseInt(e.getAttribute("y")),r="l"===o||"a"===o,a=l(e),s=e.getAttribute("t").split(","),c=t[e.getAttribute("s")]={zoomAvailable:x.zoom,node:e,c:o,y:i,s:n(".s"),n:n(".n"),an:n(".an"),am:n(".am"),d:n(".d"),md:n(".md"),r:n(".r"),g:r?o:a,p:r?null:l(e.parentNode),b:r?"f":a<3?"s":a<13?"d":"p",mp:s[0]||null,bp:s[1]||null};u(c,"an"),u(c,"am")}x.elements=t},x.zoomWith=function(e,t){(e<0&&x.zoom>0||e>0&&x.zoom<4)&&(x.zoom=x.zoom+e,C.zoomTo(e,t))},x.zoomTo=function(e,t){var n=e-x.zoom;x.zoomWith(n,t)},x.addFieldsForElement=function(e){var t=x.elements[e.symbol];t.zoomAvailable=Math.max(t.zoomAvailable,x.zoom),C.injectFieldsForElement(e)},x.updateFilter=function(t,n){t===b.GROUP||t===b.PERIOD||t===b.CATEGORY||t===b.BLOCK||t===b.STATE?o(x.filter[t],n):t===b.FIND?x.filter.find=n&&n.toLowerCase().trim()||"":t===b.YEAR&&(isNaN(parseInt(n))||(x.filter.year=parseInt(n))),C.applyFilter(),e.ga&&e.ga(function(){e.ga("send","event","Filter",t)})},x.resetPositionFilter=function(){x.filter.group=[],x.filter.period=[],x.filter.block=[],C.applyFilter()};var C={};C.origin=null,C.init=function(){function o(e){var n,o=t.querySelectorAll('input[name="'+e.toLowerCase()+'"]');for(p=0;p<o.length;p++)n=e+" "+o[p].value,o[p].nextElementSibling.setAttribute("title",n)}t.body.style.overflow="ontouchstart"in e||navigator.maxTouchPoints?"auto":"hidden",t.body.style.width=s(T.width),t.body.style.height=s(T.height),k.wrap.style.width=s(T.width),k.wrap.style.height=s(T.height),C.center(),C.fitToScreen(),e.addEventListener("resize",C.fitToScreen),o("Group"),o("Period"),o("Block"),k.tempUnit.value=x.tempUnit,C.tempUnitChanged(),k.year.value=x.filter.year,n.skipAbout||(k.toggleAbout.checked=!0,n.skipAbout="y")},C.center=function(){var t,n,o,i,r,a,l,u,d;l=e.innerWidth,u=e.innerHeight,r=T.width,a=T.height,d=c(k.tables),o=d.width,i=d.height,t=(r-o)/2,n=(a-i)/2,k.tables.style.transformOrigin="0 0",k.tables.style.left=s(t),k.tables.style.top=s(n),e.scrollTo(d.width>l?t:(r-l)/2,d.height>u?n:(a-u)/2)},C.fitToScreen=function(){var n=e.innerWidth,o=n<y.COMPACT?(e.innerWidth-50)/(10*k.tables.querySelector("td").offsetWidth)*100+"%":"100%",i=t.styleSheets[0].cssRules,r=Array.prototype.slice.call(i),a=r.filter(function(e){return'[zoom="4"] .details'===e.selectorText||"[zoom='4'] .details"===e.selectorText})[0],l=r.filter(function(e){return'[zoom="4"] .r'===e.selectorText||"[zoom='4'] .r"===e.selectorText})[0];a&&l?(a.style.width=o,l.style.width=o):console.warn("Could not find rules to update for fit-to-screen")},C.tempChanged=function(){var e=parseInt(k.temp.value);isNaN(e)&&(e=x.temp),x.temp=x.tempUnit===z.C?e+273.15:x.tempUnit===z.F?5*(e+459.67)/9:e,C.applyFilter()},C.tempUnitChanged=function(){x.tempUnit=k.tempUnit.value;var e=x.tempUnit===z.C?x.temp-273.15:x.tempUnit===z.F?9*x.temp/5-459.67:x.temp;k.temp.value=Math.round(e),n.tempUnit=x.tempUnit},C.zoomTo=function(t,n){var o=k.tables;C.origin=t<0&&C.origin?C.origin:{x:(c(o).left*-1+n.x)/c(o).width,y:(c(o).top*-1+n.y)/c(o).height},k.tables.style.transformOrigin=100*C.origin.x+"% "+100*C.origin.y+"%";var i=o.offsetLeft+C.origin.x*o.offsetWidth-(e.pageXOffset+n.x),r=o.offsetTop+C.origin.y*o.offsetHeight-(e.pageYOffset+n.y);e.scrollBy(i,r),k.zoom.setAttribute("zoom",x.zoom),C.panTo(t),history.replaceState(null,"","?z="+x.zoom),e.ga&&e.ga(function(){e.ga("send","event","Zoom",t>0?"zoom-in":"zoom-out")})},C.panTo=function(e){var t=x.zoom,n=[],o=[];(!e||e>0)&&(o=Object.keys(x.elements).reduce(function(e,t){return a(x.elements[t].node)&&e.push(t),e},[]),n=o.reduce(function(e,n){return x.elements[n].zoomAvailable<t&&(x.elements[n].zoomAvailable=t,e.push(n)),e},[])),n.length&&r("/fields?z="+t+"&s="+encodeURIComponent(JSON.stringify(n)),function(e){e.forEach(x.addFieldsForElement)})},C.injectFieldsForElement=function(e){function n(e,n){for(p=0;p<n.length;p++){var o=x.elements[e.symbol].node;if(!o.querySelectorAll("."+n[p]).length){var i=t.createElement("div");i.innerHTML=e[n[p]];var r=i.firstChild;o.firstElementChild.appendChild(r),x.elements[e.symbol][n[p]]=r,u(x.elements[e.symbol],n[p])}}}1===x.zoom&&n(e,["an"]),2===x.zoom&&n(e,["n","am"]),3===x.zoom&&n(e,["n","am","d"]),4===x.zoom&&n(e,["n","am","d","md","r"])},C.applyFilter=function(){k.tables.classList.add(E.FILTERING);var e,t,n,o,i,r,a,l,s,c,u=x.filter,d=x.elements,m=Object.keys(d);for(p=0;p<m.length;p++){var f=d[m[p]];c=u.group.length||u.period.length||u.block.length,t=c&&u.group.indexOf(f.g+"")>-1,n=c&&u.period.indexOf(f.p+"")>-1,o=c&&u.block.indexOf(f.b)>-1,i=!c||t||n||o,r=!u.category.length||u.category.indexOf(f.c)>-1,a=!u.find||0===f.s.textContent.toLowerCase().indexOf(u.find)||0===f.s.getAttribute("title").toLowerCase().indexOf(u.find),l=!u.year||isNaN(f.y)||f.y<=u.year,s=!u.state.length||u.state.indexOf("gas")>-1&&f.bp&&f.bp<x.temp||u.state.indexOf("liquid")>-1&&f.mp&&f.bp&&f.mp<x.temp&&f.bp>x.temp||u.state.indexOf("solid")>-1&&f.mp&&f.mp>x.temp,e=i&&r&&a&&l&&s,f.node.classList.toggle(E.UNFILTERED,!e)}};var F={};F.init=function(){k.filters.onmousedown=function(e){e.stopPropagation()},t.addEventListener("click",function(e){var n=e.target;if("center"===n.id)x.zoomTo(1,d()),setTimeout(function(){C.center()},1050),e.preventDefault();else if("A"===n.tagName&&"zoom"===n.parentNode.id)x.zoomWith(parseInt(n.getAttribute("value")),d()),e.preventDefault();else if("reset-position-filters"===n.id){var o=t.querySelectorAll('th > input[type="checkbox"]');for(p=0;p<o.length;p++)o[p].checked=!1,o[p].parentNode.classList.remove("active");x.resetPositionFilter()}else n.classList.contains("close-content")&&(t.querySelector(n.value).checked=!1)}),F.setupResourceTabs(),t.onchange=function(e){var n=e.target;if("INPUT"===n.tagName){if("group"===n.name)x.updateFilter(b.GROUP,n.value);else if("period"===n.name)x.updateFilter(b.PERIOD,n.value);else if("block"===n.name)x.updateFilter(b.BLOCK,n.value);else if("category"===n.name)x.updateFilter(b.CATEGORY,n.value);else if("state"===n.name)x.updateFilter(b.STATE,n.value);else if(n.classList.contains("ctrl-toggle")){var o=t.querySelectorAll(".ctrl-toggle");for(p=0;p<o.length;p++)o[p]!==n&&(o[p].checked=!1)}"TH"===n.parentNode.tagName&&n.parentNode.classList.toggle("active",n.checked)}else"year"===n.id&&x.updateFilter(b.YEAR,n.value)};var n=!1;k.tables.addEventListener("mouseup",function(e){var t=e.path.filter(function(e){return"TD"===e.tagName}).length>0;S||n||!t||(x.zoomWith(1,{x:e.clientX,y:e.clientY}),n=!0,setTimeout(function(){n=!1},500))});var o=!0;k.tables.onwheel=function(e){var t=e.path.some(function(e){return"DIV"===e.tagName&&e.scrollHeight>e.clientHeight});o&&!t&&(x.zoomWith(e.deltaY>0?-1:1,{x:e.clientX,y:e.clientY}),e.preventDefault(),o=!1,setTimeout(function(){o=!0},1e3))};var i,r,a;t.ontouchstart=function(e){if(2===e.touches.length){i={x:e.touches[0].clientX,y:e.touches[0].clientY};var t={x:e.touches[1].clientX,y:e.touches[1].clientY};r=Math.pow(Math.abs(t.x-i.x),2)+Math.pow(Math.abs(t.y-i.y),2),a={x:(i.x+t.x)/2,y:(t.y+t.y)/2},e.preventDefault()}},t.ontouchend=function(e){if(i&&e.touches.length){var t={x:e.touches[0].clientX,y:e.touches[0].clientY},n=Math.pow(Math.abs(t.x-i.x),2)+Math.pow(Math.abs(t.y-i.y),2);x.zoomWith(n-r>0?1:-1,{x:a.x,y:a.y}),i=null,e.preventDefault()}},k.tempUnit.onchange=C.tempUnitChanged,k.temp.onchange=C.tempChanged,k.temp.onkeypress=function(e){e.stopPropagation()},k.year.onkeypress=function(e){e.stopPropagation()},k.year.onkeyup=function(e){x.updateFilter(b.YEAR,k.year.value),e.stopPropagation()},k.yearReset.onclick=function(){var e=(new Date).getFullYear();k.year.value=e,x.updateFilter(b.YEAR,e)},k.find.onkeypress=function(e){e.stopPropagation()},k.find.onkeyup=function(e){x.updateFilter(b.FIND,k.find.value),e.stopPropagation()},k.findReset.onclick=function(){k.find.value="",x.updateFilter(b.FIND,"")},e.onscroll=function(){g=!0},setInterval(function(){g&&(g=!1,x.zoom>1&&(C.origin=null,C.panTo()))},100),e.onkeydown=function(e){32===e.keyCode&&"INPUT"!==e.target.tagName&&e.preventDefault()},e.onkeypress=function(e){e.keyCode>=48&&e.keyCode<=52?(x.zoomTo(parseInt(String.fromCharCode(e.keyCode)),d()),e.preventDefault()):45===e.keyCode?(x.zoomWith(-1,d()),e.preventDefault()):61===e.keyCode?(x.zoomWith(1,d()),e.preventDefault()):102===e.keyCode?(k.toggleFilters.checked?k.toggleFilters.checked=!1:(k.toggleFilters.checked=!0,k.find.focus()),e.preventDefault()):104===e.keyCode?(k.toggleAbout.checked=!k.toggleAbout.checked,e.preventDefault()):114===e.keyCode&&(x.zoomTo(1,d()),setTimeout(function(){C.center()},1050),e.preventDefault())},e.addEventListener("orientationchange",C.center)},F.setupResourceTabs=function(){t.addEventListener("click",function(n){var o=n.target;if("A"===o.tagName&&o.parentNode.parentNode.classList.contains("tabs-nav")){var i=o.parentNode.parentNode.children;for(p=0;p<i.length;p++)i[p].style.display=i[p].firstElementChild===o?i[p].classList.add("active"):i[p].classList.remove("active");var r=t.querySelector(o.getAttribute("href")),a=r.parentNode.children;for(p=0;p<a.length;p++){a[p].style.display=a[p]===r?"block":"none";var l=r.querySelector(".iframe");if(l){var s=t.createElement("iframe");for(l.parentNode.appendChild(s),f=0;f<l.attributes.length;f++)s.setAttribute(l.attributes[f].name,l.attributes[f].value);l.parentNode.removeChild(l)}else{var c=r.querySelector(".ads");if(c&&!c.getAttribute("initialized")){var u=c.getAttribute("term"),d=c.getAttribute("category")||"All",m=c.getAttribute("design");e.amzn_assoc_placement="adunit",e.amzn_assoc_search_bar="false",e.amzn_assoc_tracking_id="periodictab05-20",e.amzn_assoc_ad_mode="search",e.amzn_assoc_ad_type="smart",e.amzn_assoc_marketplace="amazon",e.amzn_assoc_region="US",e.amzn_assoc_title="",e.amzn_assoc_default_search_phrase=u,e.amzn_assoc_default_category=d,e.amzn_assoc_linkid="37694af719272b63fc4a6d8c15ffe65d",e.amzn_assoc_rows="4","text_links"===m?e.amzn_assoc_design="text_links":delete e.amzn_assoc_design,t.write=function(e){c.innerHTML=e};var g=t.createElement("script");g.src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US",r.appendChild(g),c.setAttribute("initialized","initialized")}}}e.ga&&e.ga(function(){h("send","screenview",{screenName:r})}),n.preventDefault()}})},"path"in Event.prototype||Object.defineProperty(Event.prototype,"path",{get:function(){for(var n=[],o=this.target;o;)n.push(o),o=o.parentElement;return n.indexOf(e)===-1&&n.indexOf(t)===-1&&n.push(t),n.indexOf(e)===-1&&n.push(e),n}});var S=!1,L=[];"interactive"===t.readyState||"complete"===t.readyState?t.body.hasAttribute("permalink")?F.setupResourceTabs():(i(),m()):t.addEventListener("DOMContentLoaded",i)}(window,document,window.localStorage);